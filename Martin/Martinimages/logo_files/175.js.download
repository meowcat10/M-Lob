"use strict";(self.odspNextWebpackJsonp=self.odspNextWebpackJsonp||[]).push([[175],{3526:function(e,t,n){n.d(t,{a:function(){return p}});var a=n("tslib_826"),i=n("odsp.util_118"),r=n(1326),o=n(17),s=n(800),c=n(1531),d=n(1530),l=n(62),u=n(1555),f=i.HW.isActivated("c6d1b5d4-7ee0-4569-bba3-66800296443b"),p=new i.hK({name:"getItemKeyFromViewParams",factory:{dependencies:{appPageContext:o.a},create:function(e){var t=e.appPageContext;function n(e){var n,i=e.viewParams,o=e.isNavigation,d=f?t.listUrl:i[s.e];if(i[c.a]&&!i[s.e]){var u=i,p=c.a,m=(u[p],(0,a.l7)(u,["symbol"==typeof p?p:p+""]));d=(i=(0,a.W_)((0,a.W_)({},m),((n={})[s.e]=i[c.a],n)))[c.a]}var _=new l.b({context:t}),h=_.getUrlParts({path:i[s.b],listUrl:d});return(0,r.a)({viewParams:i,appPageContext:t,itemUrlParts:h,itemUrlHelper:_,isOnePage:!1,isNavigation:o,isSearch:!!i[s.h]})}return{instance:function(e){var t,i;if(e[d.a]){var r=n({viewParams:(0,a.W_)((0,a.W_)({},e),(t={},t[d.a]="",t[s.b]=e[d.a],t)),isNavigation:!0}),o=n({viewParams:(0,a.W_)((0,a.W_)({},e),(i={},i[d.a]="",i)),isNavigation:!1});if(r&&o)return u.a.serialize({currentItemKey:r,focusItemKey:o})}return n({viewParams:e,isNavigation:!0})}}}}})}
,4349:function(e,t,n){n.d(t,{a:function(){return a}});var a=(0,n(242).a)("viewTypeOverrideFunc")}
,3525:function(e,t,n){n.d(t,{a:function(){return i}});var a=n("odsp.util_118"),i=new a.hK({name:"WebWorkerPostPltHost.key",loader:new a.vh(function(){return n.e(2283).then(n.bind(n,3749)).then(function(e){return e.postPltWebWorkerKey})})})}
,2721:function(e,t,n){n.d(t,{a:function(){return s},b:function(){return o}});var a,i=n(3198),r=n(2972);function o(e){return a||(a=new r.a),a.getViewIdParam(e)===i.b}function s(e){var t;return(null===(t=e.viewKey)||void 0===t?void 0:t.viewId)===i.b}}
,2794:function(e,t,n){n.d(t,{a:function(){return a}});var a=n("odsp.util_118").HW.isActivated("DF8B0D97-3C5A-4B08-9DCA-66E51B6A50CD")}
,4983:function(e,t,n){n.d(t,{a:function(){return d},b:function(){return c}});var a=n("tslib_826"),i=n(2721),r=n("odsp.util_118"),o=n(2794),s=r.HW.isActivated("7f9b8b42-7691-4d65-910e-9c5f961d07b8","08/23/2023","Fix initPostPltWebworker error due to post promise included message to needsAttentionView");function c(e){var t=e.postPltWebWorker,c=e.listData,d=e.listDataStateStore,l=e.listDataProvider,u=e.listContext,f=e.viewParams,p=d.state.listRenderData,m=null==p?void 0:p.itemSet,_=!o.a&&m?(0,i.a)(m):(0,i.b)(f),h=s?p:(0,a.W_)((0,a.W_)({},p),{pageContext:void 0});t.postMessage("needsAttentionView",{listData:c,listRenderData:h,isNeedsAttentionView:_},["needsAttentionView-Complete"],function(e,t){var i,o;if("needsAttentionView-Complete"===e)if(t.missingMetadata){var s=null===(o=null===(i=d.state)||void 0===i?void 0:i.listRenderData)||void 0===o?void 0:o.schema,c=s&&(0,a.W_)({},s);t.fields&&_&&c&&(c.fields=t.fields),d.update("listRenderData",(0,a.W_)((0,a.W_)({publisher:"NeedsAttentionViewWorker",missingMetadata:t.missingMetadata,views:t.views},c?{schema:c}:{}),t.items&&_?{seedItems:t.items}:{}))}else if(t.hasRequiredFields){if(!m)throw new r.EI({code:"NoItemSet"});n.e(1484).then(n.bind(n,5412)).then(function(e){var n=d.state.listRenderData.availableContentTypes,a=u.templateType,i=e.getNeedsAttentionView({contentTypes:n,listTemplateType:a}).getEffectiveViewXml();l.getItems({webAbsoluteUrl:m.webAbsoluteUrl,listFullUrl:m.listFullUrl,viewXml:i},{doNotAddToItemStore:!0}).then(function(e){e&&e.length&&d.update("listRenderData",{publisher:"NeedsAttentionViewWorker",missingMetadata:!0,views:t.views})})})}})}function d(e){c({postPltWebWorker:e.postPltWebWorker,listDataStateStore:e.listDataStateStore,listContext:e.listContext,listDataProvider:e.listDataProvider,viewParams:e.viewParams})}}
,3973:function(e,t,n){n.r(t),n.d(t,{getCurrentListDataKey:function(){return D}});var a=n("tslib_826"),i=n(58),r=n("odsp.util_118"),o=n(2512),s=n(2521),c=n(2524),d=n(2937),l=n(2536),u=n(2573),f=n(3396),p=n(6275),m=n(3526),_=n(3970),h=n(208),b=n(17),g=n(216),v=r.HW.isActivated("e5b0dcc6-2548-4346-96a4-883ad0486577","05/19/2023"),y=r.HW.isActivated("06a758c4-8ee6-4161-807f-a31f70d904c6","03/11/2024"),S=r.HW.isActivated("3b6a1b6a-5814-4952-a82d-3d0bae00e251"),D=new r.hK({name:"GetCurrentListData",factory:{dependencies:{appPageContext:b.a,navigation:i.a,listDataProvider:o.n,listViewStore:c.a,listDataStateStore:s.a,listDataStateStoreUpdater:s.b,listItemStore:l.a,appStateStore:u.a,getItemKeyFromViewParams:m.a},create:function(e){var t=e.appPageContext,i=e.listDataProvider,o=e.navigation,s=e.listItemStore,c=e.getItemKeyFromViewParams,l=(0,a.l7)(e,["appPageContext","listDataProvider","navigation","listItemStore","getItemKeyFromViewParams"]);return{instance:function(e){return(0,a.Zd)(this,void 0,void 0,function(){var u,m,b,D,I,x,C,O,w;return(0,a.qr)(this,function(a){switch(a.label){case 0:u=c(o.viewParams),m=u&&(0,p.a)(u),D=null,I=null,r.HW.isActivated("3ED400C6-6D8E-4859-9706-36DA0B0B6A9F")||(D=(0,_.b)().Telemetry,I=new((0,h.a)(D.QosEvent))({name:"SpartanList_GetListData",pillar:"View",veto:function(e){return"SpartanList_GetListData Failure"}})),a.label=1;case 1:if(a.trys.push([1,8,,9]),!m)throw D&&I&&D.logQosFailure(I,"GetListData failed"),new r.EI({code:"UnsupportedRequestItemKey"});return x=(0,f.a)({itemSetKey:m,currentView:l.listViewStore.getCurrentView(),listDataState:l.listDataStateStore.state,needPinnedItems:e,hostPageWebAbsoluteUrl:t.webAbsoluteUrl}),(0,d.b)(x.viewIdParam)?[3,3]:[4,i.fetchListData(x,{UNSAFE_doUpdateListContext:!0,clearItemStoreBeforeItemResolution:!S})];case 2:return b=a.sent(),v||l.appStateStore.update("listErrorMessage",{publisher:"getCurrentListData",state:void 0},{override:!0}),[3,7];case 3:return[4,t.dataSyncClient];case 4:return a.sent()?[4,n.e(1753).then(n.bind(n,3586))]:[3,7];case 5:return[4,a.sent().populateNucleusSyncIssuesView(l.listDataStateStore,t,s)];case 6:b=a.sent(),a.label=7;case 7:return[3,9];case 8:if(C=a.sent(),O=C instanceof g.a?C:new g.a({code:"GetCurrentListDataError",innerError:C}),!v)throw l.appStateStore.update("listErrorMessage",{publisher:"getCurrentListData",state:{error:O,isSpartanFrameworkError:!1}},{override:!0}),D&&I&&(w="GetListData failed",!y&&(409===O.status||O.code&&(O.code.indexOf("2147024860")>-1||O.code.indexOf("2147024749")>-1))&&(w="GetListData failed - throttled"),D.logQosFailure(I,w)),O;return[3,9];case 9:return D&&I&&D.logQosSuccess(I),[2,{listData:b,appStores:l}]}})})}}}}})}
,6279:function(e,t,n){n.d(t,{a:function(){return r},b:function(){return o}});var a=n("tslib_826"),i=n("odsp.util_118"),r=new i.hK({name:"GetCurrentListData.key",loader:new i.vh(function(){return Promise.all([n.e("ondemand.resx"),n.e(488),n.e(1482)]).then(n.bind(n,3973)).then(function(e){return e.getCurrentListDataKey})})});function o(e){return(0,a.Zd)(this,void 0,void 0,function(){return(0,a.qr)(this,function(t){switch(t.label){case 0:return[4,e.consumeAsync(r)];case 1:return[2,t.sent()()]}})})}}
,3396:function(e,t,n){n.d(t,{a:function(){return f}});var a=n("tslib_826"),i=n("odsp.util_118"),r=n(3198),o=n(265),s=n(6278),c=i.HW.isActivated("53d27e0d-7bac-4000-bf2d-78190bb854c9"),d=i.HW.isActivated("f365a3a7-53a3-408e-97a5-97072d4ba008"),l=i.HW.isActivated("d3c42632-e93a-421c-a4f4-e70c18b2d778"),u=i.HW.isActivated("523FC5A9-C452-42A7-B91E-4D676DCD7C6D");function f(e){var t,n,f,p,m=e.currentView,_=e.listDataState,h=e.itemSetKey,b=e.needsSpfx,g=e.needPinnedItems,v=e.isPrefetch,y=e.hostPageWebAbsoluteUrl,S=o.a.deserialize(h),D=null===(t=S.viewKey)||void 0===t?void 0:t.viewId,I=_.listRenderData.itemSet,x=h!==(null==I?void 0:I.key),C=S.viewPath,O=S.webAbsoluteUrl!==(null==I?void 0:I.webAbsoluteUrl)||S.listFullUrl!==(null==I?void 0:I.listFullUrl),w=S.filterParams||"",E=S.searchTerm,A=m&&m.isDirty()&&(void 0===D||D===m.id),L=(u||!O)&&(null===(n=_.listRenderData)||void 0===n?void 0:n.availableContentTypes)||[],k=D===r.b,M=void 0===(null===(f=_.listSettings)||void 0===f?void 0:f.customActions),P=null===(p=_.listRenderData)||void 0===p?void 0:p.list,T=(!P||M||O)&&!!b,U=!1;P&&(P.templateType&&(0,s.a)(P.templateType)||L&&!(L.length<1))||(U=!0);var F=!1;(null==P?void 0:P.isDocumentLibrary)&&(F=g||!_.pinnedItemData.pinnedItemIds||x);var H=void 0===D?C:void 0,R=D;void 0!==R||void 0!==H||!u&&O||(R=null==m?void 0:m.id);var N=!y||y===S.webAbsoluteUrl;return(0,a.W_)((0,a.W_)((0,a.W_)({webAbsoluteUrl:S.webAbsoluteUrl,listFullUrl:S.listFullUrl,filterParams:w,folderId:S.rootFolder||"",viewIdParam:R,viewPathParam:H,sortField:S.sortFieldKey||"",isAscending:S.sortAscending,groupBy:S.groupByFieldKey?[S.groupByFieldKey]:void 0,searchTerm:E},A&&!i.HW.isActivated("60AC49D8-3D6C-406A-A828-F0CC0A5E5E7C")?{viewXml:m.getEffectiveViewXml()}:{}),k?{contentTypes:(0,a.AE)([],L,!0)}:{}),{needsMountPoint:!0,needsSpotlight:F,requireFolderColoringFields:!0,needUpdatePageContext:!c||void 0,needsLegacyCustomActions:M,needClientSideComponentManifest:!d,needsListAvailableContentTypes:U,needsContentTypeOrder:N,renderSpfxCustomActions:T,setServiceWorkerCoalesceHeader:!l&&v})}}
,2937:function(e,t,n){n.d(t,{a:function(){return l},b:function(){return d},c:function(){return u},d:function(){return s},e:function(){return o}});var a=n(16),i=n("odsp.util_118"),r={ODB:60442},o="766a519d-8ed4-4f89-a095-bb693e1e240a",s={Name:"6e02319b-5019-4094-8fa6-dd52241de171",Issue:"d287788d-eb12-4aac-9f8a-75fec3b64b79",Occurred:"b9a2e3e1-7646-4d07-9b62-c29ae9816ab0"},c=Object.keys(s);function d(e){return!!e&&("{"===e.charAt(0)&&(e=e.substring(1,e.length-1)),u()&&e===o)}function l(e){return c.find(function(t){return s[t]===e})}function u(){return(0,a.b)(r)&&!i.HW.isActivated("b7c7b20c-e0fe-47e5-8c6d-6d4ec5743366","06/26/2023","Nucleus sync issues view")}}
,2661:function(e,t,n){n.d(t,{a:function(){return k},b:function(){return w}});var a=n("tslib_826"),i=n("odsp.util_118"),r=n(108),o=n(218),s=n(6279),c=n(3525),d=n(4983),l=n(2520),u=n(2512),f=n(2721),p=n(3198),m=n(3526),_=n(6275),h=n(2521),b=n(265),g=n(154),v=n(4349),y=n(800),S=n(2794),D=n(3973),I=n(1688),x=n(600),C=n(645),O=n(3974),w=new i.hK("NavigationKey"),E=i.HW.isActivated("5f515bb6-d77d-4b3e-97f2-8e7c9b89bba5"),A=i.HW.isActivated("13f0c12f-4c7a-4c1a-a6ae-3d21c4686688"),L="navigation";function k(e,t){var n=new o.a,i=new r.a({});n.attach(i);var w=e.consume(h.a);return i.on(t,"change",function(){var n,i,r=null===(i=null===(n=w.state)||void 0===n?void 0:n.listRenderData)||void 0===i?void 0:i.requestItemKey,o=r&&(0,_.a)(r),h=e.consume(m.a)(t.viewParams),k=h&&(0,_.a)(h);k!==o?(E?(0,s.b)(e):e.consume(D.getCurrentListDataKey)()).then(function(n){var i,r,s=n.listData,m=n.appStores,_=e.consume(g.a.local).get(v.a),D=e.consume(x.a),w=e.consume(C.a),E=e.consume(O.a),M=null==s?void 0:s.pageContext,P=!A&&M?(0,I.a)({pageContext:M,tokenProvider:D,dataSyncClient:w}):M,T=(o?b.a.deserialize(o):void 0)||{},U=T.listFullUrl,F=T.webAbsoluteUrl,H=(k?b.a.deserialize(k):void 0)||{},R=H.extFilters,N=H.listFullUrl,B=H.webAbsoluteUrl,j=null==_?void 0:_({initialViewTypeOverride:void 0,list:null==s?void 0:s.list,pageContext:P,extFilters:R});if(s&&m.listViewStore&&s.currentView){var V=m.listViewStore.getCurrentView();s.currentView.Id!==(null==V?void 0:V.id)&&(m.listViewStore.initializeView(s.currentView,j),function(e){var t=e.currentNewDocumentTemplateStore,n=e.newListFullUrl,a=e.newWebAbsoluteUrl,i=e.prevListFullUrl,r=e.prevWebAbsoluteUrl,o=e.listViewStore.getCurrentView();(null==o?void 0:o.isDefault)?t.update("templateData",{publisher:L,defaultViewId:o.id,status:"loaded",templates:o.getNewDocumentTemplates()}):n&&a&&i===n&&r===a||t.update("templateData",{publisher:L,status:"unloaded"})}({currentNewDocumentTemplateStore:E,listViewStore:m.listViewStore,newListFullUrl:N,newWebAbsoluteUrl:B,prevListFullUrl:U,prevWebAbsoluteUrl:F}))}var z=s;if(s){(S.a?(0,f.b)(t.viewParams):(0,f.a)({viewKey:{viewId:t.viewParams[y.k]||""}}))&&m.listViewStore.initializeView((0,a.W_)((0,a.W_)({},s.currentView),{Id:p.b}),j);var G=null===(r=null===(i=m.listDataStateStore.state)||void 0===i?void 0:i.listRenderData)||void 0===r?void 0:r.availableContentTypes;z=(0,a.W_)((0,a.W_)((0,a.W_)({},s),G),{pageContext:P}),m.listDataStateStoreUpdater(L,"All",z,{override:!0},void 0,h),e.consumeAsync(c.a).then(function(n){var a=e.consume(u.n),i=e.consume(l.a).state;i&&(0,d.a)({postPltWebWorker:n,listDataStateStore:m.listDataStateStore,listDataProvider:a,listContext:i,viewParams:t.viewParams})})}else m.listDataStateStoreUpdater(L,"All",z,{override:!0},void 0,h)}):w.update("listRenderData",{publisher:L,requestItemKey:h})}),n}}
,2520:function(e,t,n){n.d(t,{a:function(){return r}});var a=n("odsp.util_118"),i=n(2521),r=new a.hK({name:"CurrentListStore",factory:{dependencies:{listDataStateStore:i.a},create:function(e){var t=e.listDataStateStore;return{instance:{get state(){return t.state.listRenderData.list},onUpdate:function(e){return t.onUpdate("listRenderData",function(t){var n;return e(new CustomEvent(t.type,{detail:null===(n=t.detail)||void 0===n?void 0:n.list}))})}}}}}})}
,3974:function(e,t,n){n.d(t,{a:function(){return o}});var a=n(399),i=n(156),r=n(202),o=new(n("odsp.util_118").hK)({name:"currentNewDocumentTemplateStore",factory:{dependencies:{spartanViewInstance:a.a},create:function(){var e=new i.a({templateData:{publisher:"init",status:"unloaded"}});return(0,r.a)().attachStores({currentNewDocumentTemplateStore:e}),{instance:e,disposable:e}}}})}
,2779:function(e,t,n){n.d(t,{a:function(){return l},b:function(){return u},c:function(){return c}});var a=n(338),i=n("odsp.util_118"),r=n(62),o=n(2512),s=n(2543),c=new i.hK({name:"GetItemKey.key",factory:{dependencies:{pageContext:o.a},create:function(e){var t=e.pageContext,n=new r.b({context:t}).getUrlParts(),i=n.fullWebUrl,o=void 0===i?t.webAbsoluteUrl:i,s=n.fullListUrl,c=void 0===s?"":s;return{instance:function(e){return a.a.serialize({webAbsoluteUrl:o,listFullUrl:c,itemId:"".concat(e.ID)})}}}}}),d=new i.hK({name:"GetItemKey.key",factory:{dependencies:{},create:function(e){return{instance:function(e){return"".concat(e.ID)}}}}}),l=(0,s.$)(s.X)?c:d,u=(0,s.$)(s.X)?function(e){return"string"==typeof e&&a.a.matches(e)}:function(e){return"string"==typeof e}}
,2536:function(e,t,n){n.d(t,{a:function(){return c}});var a=n("odsp.util_118"),i=n(613),r=new a.hK({name:"UpdateItemItemAliasMapping.key",factory:new a.t_(function(e,t){return e.ID=t.ID,e.FileLeafRef=t.FileLeafRef,e})}),o=n(2779),s=n(399),c=new a.hK({name:"ListItemStore.key",factory:{dependencies:{getItemKey:o.a,updateItemItemAliasMapping:r,spartanViewInstance:s.a},create:function(e){var t=e.getItemKey,n=e.updateItemItemAliasMapping,a=new i.a({getItemKey:t,isValidItemKey:o.b,updateItemItemAliasMapping:n});return{instance:a,disposable:a}}}})}
,2524:function(e,t,n){n.d(t,{a:function(){return h}});var a=n("odsp.util_118"),i=n("tslib_826"),r=n(3127),o=n(864),s=n(1595),c=n(2509),d=n(308),l=n(994),u=a.HW.isActivated("BC5A34B5-C500-479F-8EC2-79DCDAD03B63"),f=a.HW.isActivated("4352C8D6-3D54-4CD5-84C4-821D688A5A48"),p=a.HW.isActivated("B49650A6-0D1C-4AD4-A23C-000C1D52898A"),m=function(){function e(){this._eventMC=new d.a}return e.prototype.subscribe=function(e,t){return this._eventMC.subscribe(e,t)},e.prototype.initializeView=function(e,t){var n=(0,l.c)("ViewStoreInitialization");this._baseView=new s.a(e),this._fixBaseView(),this._currentView=this._baseView.clone(),this._currentView.getDomParts(),t&&(f||this._currentView.viewType!==t)&&this._currentView.updateViewType(t),n();var a="initializeView";this._publishBaseViewChangeEvent(a),this._publishCurrentViewChangeEvent(a)},e.prototype.getBaseView=function(){return this._baseView},e.prototype.updateBaseViewXml=function(e,t,n){if(this._baseView&&this._currentView){var a=new s.a(t).getEffectiveViewXml();this._currentView.baseViewXml=a,this._publishCurrentViewChangeEvent(e,void 0,n),this._baseView.baseViewXml=a,this._publishBaseViewChangeEvent(e)}},e.prototype.getCurrentView=function(){return this._currentView},e.prototype.createOrDeleteColumns=function(e){var t=e.publisher,n=e.columnActionType,a=e.fieldNames,i=e.fieldToInsertAfter,r=e.silence;if(this._baseView&&this._currentView){var s,c=this._baseView.getEffectiveFieldNames();if("Create"===n&&(s=c.length,i)){var d=c.indexOf(i);-1!==d&&(s=d)}if(a&&a.length>0)for(var l=0,f=a.reverse();l<f.length;l++){var p=f[l];this._currentView.updateField(p,s),this._baseView.updateField(p,s)}this._currentView.baseViewXml=this._currentView.getEffectiveViewXml(),!u&&r||this._publishCurrentViewChangeEvent(t,o.a.fieldNames),this._updateBaseView(t)}},e.prototype.reorderField=function(e,t,n){this._baseView&&this._currentView&&(this._currentView.updateField(t,n),this._currentView.baseViewXml=this._currentView.getEffectiveViewXml(),this._publishCurrentViewChangeEvent(e,o.a.fieldNames),this._baseView.updateField(t,n),this._updateBaseView(e))},e.prototype.publishColumnWidthChange=function(e,t,n){this._eventMC.publish("columnWidthChange",{publisher:e,fieldName:t,width:n})},e.prototype.updateColumnWidth=function(e,t,n){if(this._baseView&&this._currentView){var a={};a[t]=n.toString(),this._currentView.updateColumnWidths(a),this._currentView.baseViewXml=this._currentView.getEffectiveViewXml(),this._publishCurrentViewChangeEvent(e,o.a.columnWidth),this._baseView.updateColumnWidths(a),this._updateBaseView(e)}},e.prototype.updateSort=function(e,t,n){void 0===n&&(n={}),this._currentView&&(this._currentView.updateSort(t,n),this._publishCurrentViewChangeEvent(e,o.a.sorts))},e.prototype.updateColumnAggregateType=function(e,t,n){if(this._baseView&&this._currentView){var a=this.getEffectiveAggregatesData();if(a||n!==r.b.NONE){if(a){var i=a&&a.Name?a.Name.indexOf(t):void 0,s=void 0===i&&-1===i||!a.Type||void 0===i?void 0:a.Type[i];if(!s&&n===r.b.NONE||s===r.a[n])return}var c=n===r.b.NONE?void 0:r.a[n];this._currentView.updateColumnAggregateType(t,c),this._currentView.baseViewXml=this._currentView.getEffectiveViewXml(),this._publishCurrentViewChangeEvent(e,o.a.aggregations),this._baseView.updateColumnAggregateType(t,c),this._updateBaseView(e)}}},e.prototype.updateViewData=function(e,t){this._currentView&&(this._currentView.updateViewData(t),this._publishCurrentViewChangeEvent(e,o.a.viewData))},e.prototype.getEffectiveAggregatesData=function(){if(this._currentView)return this._currentView.getEffectiveAggregatesData()},e.prototype.updateViewType=function(e,t){this._currentView&&(this._currentView.updateViewType(t),this._publishCurrentViewChangeEvent(e,o.a.viewType))},e.prototype.updateLayoutStyles=function(e,t){this._currentView&&(this._currentView.updateViewStyles(t),this._publishCurrentViewChangeEvent(e,o.a.viewStyles))},e.prototype.updateFilters=function(e,t){return(0,i.Zd)(this,void 0,void 0,function(){var a,r,s,d,l,u,f,p,m,_,h,b,g=this;return(0,i.qr)(this,function(v){switch(v.label){case 0:return[4,Promise.all([n.e(106),n.e(2278)]).then(n.bind(n,3099))];case 1:if(a=v.sent(),!this._currentView)return[2];if(r=t.clearAllFilters,s=t.filterList,(d=t.camlFilters)&&(this._currentView.clearFilters(),this._currentView.addFilters(d)),s&&s.length)if(1===s.length&&!s[0].values||1===s.length&&!s[0].values.length)a.removeSmartFilters(this._currentView);else{if(l=new Set,(u=a.getAllSmartFilters(this._currentView))&&u.length)for(f=0,p=u;f<p.length;f++)m=p[f],l.add(m.fieldName);for(_=0,h=s;_<h.length;_++)(b=h[_]).values.length?a.updateFilter(this._currentView,(0,i.W_)((0,i.W_)({},b),{id:b.id||b.fieldName})):a.removeFilter(this._currentView,b.id||b.fieldName),l.delete(b.fieldName);l.forEach(function(e){g._currentView&&a.removeFilter(g._currentView,e)})}else a.removeSmartFilters(this._currentView);return r&&((0,c.Tb)()||r.canUserEditView?this._currentView.clearFilters():a.removeSmartFilters(this._currentView)),this._publishCurrentViewChangeEvent(e,o.a.filters),[2]}})})},e.prototype.updateNewDocumentTemplates=function(e,t){this._baseView&&this._currentView&&(this._currentView.updateNewDocumentTemplates(t),this._currentView.baseViewXml=this._currentView.getEffectiveViewXml(),this._publishCurrentViewChangeEvent(e,o.a.newDocumentTemplates),this._baseView.updateNewDocumentTemplates(t),this._updateBaseView(e))},e.prototype.currentViewSaved=function(e,t){if(this._baseView&&this._currentView){var n=p?this._currentView.getEffectiveViewXml():t;this._currentView.baseViewXml=n,this._publishCurrentViewChangeEvent(e),this._baseView.baseViewXml=n,this._publishBaseViewChangeEvent(e)}},e.prototype.updateDefault=function(e){this._baseView&&this._currentView&&(this._currentView.isDefault=!0,this._publishCurrentViewChangeEvent(e),this._baseView.isDefault=!0,this._updateBaseView(e))},e.prototype.updateGroupBy=function(e,t){this._currentView&&(this._currentView.updateGroupBy(t),this._publishCurrentViewChangeEvent(e,o.a.groupBy))},e.prototype._updateBaseView=function(e){if(this._baseView){var t=this._baseView.getEffectiveViewXml();this._baseView.baseViewXml=t,this._publishBaseViewChangeEvent(e)}},e.prototype._publishCurrentViewChangeEvent=function(e,t,n){this._currentView&&this._eventMC.publish("currentViewChange",{publisher:e,viewChangeType:t,currentView:this._currentView,columnActionType:n})},e.prototype._publishBaseViewChangeEvent=function(e){this._baseView&&this._eventMC.publish("baseViewChange",{publisher:e,baseView:this._baseView})},e.prototype._fixBaseView=function(){this._baseView&&(this._baseView.prepareForSaving(),this._baseView.baseViewXml=this._baseView.getEffectiveViewXml(),this._baseView.setIsDirty(!1))},e}(),_=n(399),h=new a.hK({name:"ListViewStore.key",factory:{dependencies:{spartanViewInstance:_.a},create:function(){var e=new m;return{instance:e,disposable:e}}}})}
,6278:function(e,t,n){n.d(t,{a:function(){return i},b:function(){return r}});var a=n(66);function i(e){return e===a.a.mySiteDocumentLibrary}function r(e){return!!e&&parseInt(e,10)>0}}
}]),define("shared-split-bundle~8da6cd66",[],{});